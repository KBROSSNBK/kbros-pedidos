<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>🔥 KBROS 🔥</title>
  <style>
    body {
      font-family: sans-serif;
      background: #fff;
      margin: 0;
      padding: 0;
      color: #000;
    }
    header {
      background: #000;
      color: #fff;
      padding: 1em;
      text-align: center;
      font-size: 1.5em;
    }
    .categoria-btn {
      padding: 0.8em;
      font-size: 1.2em;
      font-weight: bold;
      background: #f5f5f5;
      border-top: 2px solid #000;
      cursor: pointer;
    }
    .productos {
      display: none;
      flex-wrap: wrap;
      justify-content: center;
      padding: 0.5em 1em 1em 1em;
    }
    .producto {
      background: #eee;
      border: 1px solid #ccc;
      border-radius: 8px;
      margin: 0.4em;
      padding: 1em;
      width: 46%;
      box-sizing: border-box;
      cursor: pointer;
      font-size: 0.95em;
      text-align: center;
    }
    .producto:active {
      background: #ccc;
    }
    .carrito-fijo {
      position: fixed;
      bottom: 0;
      width: 100%;
      background: #fff;
      border-top: 2px solid #000;
      display: flex;
      justify-content: space-between;
      padding: 1em;
      box-shadow: 0 -2px 5px rgba(0,0,0,0.2);
    }
    .carrito-fijo button {
      flex: 1;
      margin: 0 0.5em;
      padding: 1em;
      font-size: 1em;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .limpiar { background: #ff5c5c; color: white; }
    .pedir { background: #4caf50; color: white; }
    .total {
      font-weight: bold;
      align-self: center;
      margin: 0 0.5em;
    }
  </style>
</head>
<body>
  <header>🔥 KBROS 🔥</header>

  <div id="menu"></div>

  <div class="carrito-fijo">
    <button class="limpiar" onclick="limpiarCarrito()">LIMPIAR</button>
    <div class="total" id="total">💲0</div>
    <button class="pedir" onclick="enviarPedido()">PEDIR</button>
  </div>

  <script>
    let categorias = {
      "COMPLETOS 🌭": [["HOT DOG - CHICO",1200],["ITALIANO - CHICO",2000],["COMPLETO - CHICO",1800],["TOCOMPLE - CHICO",2500],["DINAMICO - CHICO",2500],["CHAMO - CHICO",2000],["HOT DOG - GRANDE",1800],["ITALIANO - GRANDE",3000],["COMPLETO - GRANDE",2400],["TOCOMPLE - GRANDE",3500],["DINAMICO - GRANDE",3500],["CHAMO - GRANDE",3000],["AS - CHICO",2200],["AS - ITALIANO - CHICO",3000],["AS - COMPLETO - CHICO",2800],["AS - TOCOMPLE - CHICO",3500],["AS - DINAMICO - CHICO",3500],["AS - QUESO - CHICO",3000],["AS - GRANDE",2800],["AS - ITALIANO - GRANDE",4000],["AS - COMPLETO - GRANDE",3400],["AS - TOCOMPLE - GRANDE",4500],["AS - DINAMICO - GRANDE",4500],["AS - QUESO - GRANDE",4000]],
      "HAMBURGUESAS 🍔": [["HAMBURGUESA CLASICA",4500],["HAMBURGUESA ITALIANA",4500],["HAMBURGUESA AMERICANA",4500],["CHEDDAR BACON",5500],["CON PAPAS",1000],["PAPAS + SALSA CHEDDAR",1500],["HAMBURGUESA + CHEDDAR",1000]],
      "MECHADAS 🍔": [["MECHA-LUCO",5000],["MECHADA ITALIANO",5000],["MECHADA CHACARERO",5000],["MECHAITO",5500],["CON PAPAS",1000],["PAPAS + SALSA CHEDDAR",1500]],
      "CHURRASCOS 🍔": [["CHURRAS-LUCO",4500],["CHURRASCO ITALIANO",4500],["CHURRASCO CHACARERO",4500],["CHURRASQUITO",5000],["CON PAPAS",1000],["PAPAS + SALSA CHEDDAR",1500]],
      "FAJITAS 🌯": [["FAJITA PIOLA",4500],["FAJITA KBROS",5000],["FAJITA A TU PINTA",5000]],
      "PAPAS FRITAS 🍟": [["PAPAS ALTOKE CHICA",2000],["PAPAS ALTOKE GRANDE",3500],["SALCHIPAPAS",4000],["PAPAS PIOLA",4000],["PAPAS PULENTAS",4500],["PAPAS GRINGAS",4800],["PAPAS CHIDAS",4500]],
      "EMPANADAS 🥟": [["EMPANADAS DE QUESO X5",2000]],
      "BEBESTIBLES 🥤": [["BEBIDA LATA",1200],["JUGO",1500],["AGUA",1000]],
      "BEBESTIBLES ☕": [["TÉ",1000],["CAFÉ",1000]]
    };

    let carrito = [];

    function agregar(nombre, precio) {
      const item = carrito.find(p => p.nombre === nombre);
      if (item) {
        item.cantidad++;
      } else {
        carrito.push({ nombre, precio, cantidad: 1 });
      }
      renderTotal();
    }

    function renderTotal() {
      const total = carrito.reduce((sum, p) => sum + p.precio * p.cantidad, 0);
      document.getElementById("total").textContent = "💲" + total;
    }

    function limpiarCarrito() {
      carrito = [];
      renderTotal();
    }

    function enviarPedido() {
      const nombre = prompt("Ingresa tu nombre:");
      if (!nombre || carrito.length === 0) return;
      const total = carrito.reduce((sum, p) => sum + p.precio * p.cantidad, 0);
      const mensaje = `Hola! Soy ${nombre}. Quiero pedir:\n` +
                      carrito.map(p => `- ${p.nombre} x${p.cantidad} 💲${p.precio * p.cantidad}`).join("\n") +
                      `\nTOTAL: 💲${total}`;
      const numero = "56956446048";
      const url = `https://wa.me/${numero}?text=${encodeURIComponent(mensaje)}`;
      window.open(url, '_blank');
    }

    function renderMenu() {
      const cont = document.getElementById('menu');
      cont.innerHTML = '';
      let active = null;

      for (const cat in categorias) {
        const btn = document.createElement("div");
        btn.className = "categoria-btn";
        btn.textContent = cat;

        const box = document.createElement("div");
        box.className = "productos";
        categorias[cat].forEach(([nombre, precio]) => {
          const prod = document.createElement("div");
          prod.className = "producto";
          prod.textContent = `${nombre} 💲${precio}`;
          prod.onclick = () => agregar(nombre, precio);
          box.appendChild(prod);
        });

        btn.onclick = () => {
          document.querySelectorAll('.productos').forEach(p => p.style.display = 'none');
          if (active === box) {
            box.style.display = 'none';
            active = null;
          } else {
            box.style.display = 'flex';
            active = box;
          }
        };

        cont.appendChild(btn);
        cont.appendChild(box);
      }
    }

    renderMenu();
  </script>
</body>
</html>
